{"remainingRequest":"C:\\Users\\yoghurts\\IdeaProjects\\Projects\\myblog-vue\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\yoghurts\\IdeaProjects\\Projects\\myblog-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\yoghurts\\IdeaProjects\\Projects\\myblog-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\yoghurts\\IdeaProjects\\Projects\\myblog-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\yoghurts\\IdeaProjects\\Projects\\myblog-vue\\src\\components\\Header.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\yoghurts\\IdeaProjects\\Projects\\myblog-vue\\src\\components\\Header.vue","mtime":1626854739462},{"path":"C:\\Users\\yoghurts\\IdeaProjects\\Projects\\myblog-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626597476611},{"path":"C:\\Users\\yoghurts\\IdeaProjects\\Projects\\myblog-vue\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1626597469376},{"path":"C:\\Users\\yoghurts\\IdeaProjects\\Projects\\myblog-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1626597517077},{"path":"C:\\Users\\yoghurts\\IdeaProjects\\Projects\\myblog-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626597476611},{"path":"C:\\Users\\yoghurts\\IdeaProjects\\Projects\\myblog-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1626597510143}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"Header\",\n  data: function data() {\n    return {\n      user: {\n        username: 'Please sign in',\n        avatar: ''\n      },\n      hasLogin: false\n    };\n  },\n  methods: {\n    signOut: function signOut() {\n      var _this = this;\n\n      this.$axios.get('/logout', {\n        headers: {\n          \"Authorization\": _this.$store.state.token\n        }\n      }).then(function (res) {\n        _this.$store.commit(\"REMOVE_INFO\");\n\n        _this.$router.push(\"/login\");\n      });\n    }\n  },\n  created: function created() {\n    if (localStorage.getItem(\"token\") !== '') {\n      this.$store.commit(\"SET_TOKEN\", localStorage.getItem(\"token\"));\n      console.log(\"localStorage token:\" + localStorage.getItem(\"token\"));\n    }\n\n    if (sessionStorage.getItem(\"userInfo\") !== '') {\n      this.$store.commit(\"SET_USERINFO\", JSON.parse(sessionStorage.getItem(\"userInfo\")));\n      console.log(\"sessionStorage userInfo:\" + JSON.parse(sessionStorage.getItem(\"userInfo\")).username);\n    }\n\n    if (this.$store.state.userInfo.username) {\n      console.log(\"-------store-------\");\n      this.user.username = this.$store.state.userInfo.username;\n      this.user.avatar = this.$store.state.userInfo.avatar;\n      this.hasLogin = true;\n    }\n  }\n};",{"version":3,"sources":["Header.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAuBA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,QAAA,EAAA,gBADA;AAEA,QAAA,MAAA,EAAA;AAFA,OADA;AAKA,MAAA,QAAA,EAAA;AALA,KAAA;AAOA,GAVA;AAWA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AACA,UAAA,KAAA,GAAA,IAAA;;AACA,WAAA,MAAA,CAAA,GAAA,CAAA,SAAA,EAAA;AACA,QAAA,OAAA,EAAA;AACA,2BAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA;AADA;AADA,OAAA,EAIA,IAJA,CAIA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,aAAA;;AACA,QAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA,OAPA;AAQA;AAXA,GAXA;AAwBA,EAAA,OAxBA,qBAwBA;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,OAAA,MAAA,EAAA,EAAA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,WAAA,EAAA,YAAA,CAAA,OAAA,CAAA,OAAA,CAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,wBAAA,YAAA,CAAA,OAAA,CAAA,OAAA,CAAA;AACA;;AACA,QAAA,cAAA,CAAA,OAAA,CAAA,UAAA,MAAA,EAAA,EAAA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,cAAA,EAAA,IAAA,CAAA,KAAA,CAAA,cAAA,CAAA,OAAA,CAAA,UAAA,CAAA,CAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,6BAAA,IAAA,CAAA,KAAA,CAAA,cAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA,QAAA;AACA;;AAEA,QAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QAAA,CAAA,QAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,qBAAA;AACA,WAAA,IAAA,CAAA,QAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QAAA,CAAA,QAAA;AACA,WAAA,IAAA,CAAA,MAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QAAA,CAAA,MAAA;AACA,WAAA,QAAA,GAAA,IAAA;AACA;AACA;AAxCA,CAAA","sourcesContent":["<template>\r\n    <div class=\"m-content\">\r\n        <h3 style=\"font-style:oblique;\">Welcome to\r\n            <span v-show=\"hasLogin\">{{ user.username }}â€™s</span>\r\n            <span v-show=\"!hasLogin\">Yoghurt</span>\r\n             Blogs\r\n        </h3>\r\n        <div>\r\n            <el-avatar icon=\"el-icon-user-solid\" :size=\"50\" :src='user.avatar'></el-avatar>\r\n            <div>{{ user.username }}</div>\r\n        </div>\r\n        <div class=\"maction\">\r\n            <span><el-link href=\"/blogs\" >home</el-link></span>\r\n            <el-divider direction=\"vertical\"></el-divider>\r\n            <span><el-link type=\"success\" href=\"/blog/add\" :disabled=\"!hasLogin\">new blog</el-link></span>\r\n            <el-divider direction=\"vertical\"></el-divider>\r\n            <span v-show=\"!hasLogin\"><el-link type=\"primary\" href=\"/login\">sign in</el-link></span>\r\n            <span v-show=\"hasLogin\"><el-link type=\"danger\" @click=\"signOut\">sign out</el-link></span>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"Header\",\r\n        data() {\r\n            return {\r\n                user:{\r\n                    username:'Please sign in',\r\n                    avatar:''\r\n                },\r\n                hasLogin:false\r\n            }\r\n        },\r\n        methods:{\r\n            signOut() {\r\n                const _this = this\r\n                this.$axios.get('/logout', {\r\n                    headers:{\r\n                        \"Authorization\":_this.$store.state.token\r\n                    }\r\n                }).then(res => {\r\n                    _this.$store.commit(\"REMOVE_INFO\")\r\n                    _this.$router.push(\"/login\")\r\n                })\r\n            }\r\n        },\r\n        created() {\r\n            if (localStorage.getItem(\"token\") !== '') {\r\n                this.$store.commit(\"SET_TOKEN\", localStorage.getItem(\"token\"))\r\n                console.log(\"localStorage token:\"+localStorage.getItem(\"token\"))\r\n            }\r\n            if (sessionStorage.getItem(\"userInfo\") !== '') {\r\n                this.$store.commit(\"SET_USERINFO\", JSON.parse(sessionStorage.getItem(\"userInfo\")))\r\n                console.log(\"sessionStorage userInfo:\"+JSON.parse(sessionStorage.getItem(\"userInfo\")).username)\r\n            }\r\n\r\n            if (this.$store.state.userInfo.username) {\r\n                console.log(\"-------store-------\")\r\n                this.user.username = this.$store.state.userInfo.username\r\n                this.user.avatar = this.$store.state.userInfo.avatar\r\n                this.hasLogin = true\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .m-content {\r\n        max-width: 960px;\r\n        margin: 0 auto;\r\n        text-align: center;\r\n    }\r\n    .maction {\r\n        margin: 10px;\r\n    }\r\n</style>"],"sourceRoot":"src/components"}]}