{"remainingRequest":"C:\\Users\\yoghurts\\IdeaProjects\\Projects\\myblog-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\yoghurts\\IdeaProjects\\Projects\\myblog-vue\\src\\axios.js","dependencies":[{"path":"C:\\Users\\yoghurts\\IdeaProjects\\Projects\\myblog-vue\\src\\axios.js","mtime":1629100683902},{"path":"C:\\Users\\yoghurts\\IdeaProjects\\Projects\\myblog-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626597476611},{"path":"C:\\Users\\yoghurts\\IdeaProjects\\Projects\\myblog-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1626597517077}],"contextDependencies":[],"result":["import axios from \"axios\";\nimport Element from \"element-ui\";\nimport store from \"./store/store\";\nimport router from \"./router/router\";\naxios.defaults.baseURL = \"http://localhost:8090\"; //前置拦截\n\naxios.interceptors.request.use(function (config) {\n  return config;\n}); //后置拦截\n\naxios.interceptors.response.use(function (response) {\n  var res = response.data;\n  console.log(\"interceptors response status:\" + response.status);\n\n  if (response.status === 200) {\n    if (res.code !== undefined) {\n      if (res.code === \"200\") {\n        return response;\n      } else {\n        Element.Message.error(res.msg, {\n          duration: 3 * 1000\n        });\n        return Promise.reject(res.msg);\n      }\n    } else {\n      return response;\n    }\n  } else {\n    Element.Message.error(res.msg, {\n      duration: 3 * 1000\n    });\n    return Promise.reject(res.msg);\n  }\n}, function (error) {\n  if (error.response.data) {\n    error.message = error.response.data.msg;\n  }\n\n  if (error.response.status === 401) {\n    //无权限，remove token\n    store.commit(\"REMOVE_INFO\");\n    router.push(\"/login\");\n  }\n\n  Element.Message.error(error.message, {\n    duration: 3 * 1000\n  });\n  return Promise.reject(error.message);\n});",{"version":3,"sources":["C:\\Users\\yoghurts\\IdeaProjects\\Projects\\myblog-vue\\src\\axios.js"],"names":["axios","Element","store","router","defaults","baseURL","interceptors","request","use","config","response","res","data","console","log","status","code","undefined","Message","error","msg","duration","Promise","reject","message","commit","push"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,KAAP;AACA,OAAOC,MAAP;AAEAH,KAAK,CAACI,QAAN,CAAeC,OAAf,GAAuB,uBAAvB,C,CAEA;;AACAL,KAAK,CAACM,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+B,UAAAC,MAAM,EAAI;AACrC,SAAOA,MAAP;AACH,CAFD,E,CAIA;;AACAT,KAAK,CAACM,YAAN,CAAmBI,QAAnB,CAA4BF,GAA5B,CAAgC,UAAAE,QAAQ,EAAI;AACxC,MAAIC,GAAG,GAAGD,QAAQ,CAACE,IAAnB;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,kCAAgCJ,QAAQ,CAACK,MAArD;;AACA,MAAIL,QAAQ,CAACK,MAAT,KAAoB,GAAxB,EAA6B;AACzB,QAAIJ,GAAG,CAACK,IAAJ,KAAaC,SAAjB,EAA4B;AACxB,UAAIN,GAAG,CAACK,IAAJ,KAAa,KAAjB,EAAwB;AACpB,eAAON,QAAP;AACH,OAFD,MAEO;AACHT,QAAAA,OAAO,CAACiB,OAAR,CAAgBC,KAAhB,CAAsBR,GAAG,CAACS,GAA1B,EAA+B;AAACC,UAAAA,QAAQ,EAAE,IAAI;AAAf,SAA/B;AACA,eAAOC,OAAO,CAACC,MAAR,CAAeZ,GAAG,CAACS,GAAnB,CAAP;AACH;AACJ,KAPD,MAOO;AACH,aAAOV,QAAP;AACH;AACJ,GAXD,MAWO;AACHT,IAAAA,OAAO,CAACiB,OAAR,CAAgBC,KAAhB,CAAsBR,GAAG,CAACS,GAA1B,EAA+B;AAACC,MAAAA,QAAQ,EAAE,IAAI;AAAf,KAA/B;AACA,WAAOC,OAAO,CAACC,MAAR,CAAeZ,GAAG,CAACS,GAAnB,CAAP;AACH;AACJ,CAlBD,EAkBG,UAAAD,KAAK,EAAI;AACR,MAAIA,KAAK,CAACT,QAAN,CAAeE,IAAnB,EAAyB;AACrBO,IAAAA,KAAK,CAACK,OAAN,GAAgBL,KAAK,CAACT,QAAN,CAAeE,IAAf,CAAoBQ,GAApC;AACH;;AACD,MAAID,KAAK,CAACT,QAAN,CAAeK,MAAf,KAA0B,GAA9B,EAAoC;AAAE;AAClCb,IAAAA,KAAK,CAACuB,MAAN,CAAa,aAAb;AACAtB,IAAAA,MAAM,CAACuB,IAAP,CAAY,QAAZ;AACH;;AACDzB,EAAAA,OAAO,CAACiB,OAAR,CAAgBC,KAAhB,CAAsBA,KAAK,CAACK,OAA5B,EAAsC;AAACH,IAAAA,QAAQ,EAAC,IAAE;AAAZ,GAAtC;AACA,SAAOC,OAAO,CAACC,MAAR,CAAeJ,KAAK,CAACK,OAArB,CAAP;AACH,CA5BD","sourcesContent":["import axios from \"axios\";\r\nimport Element from \"element-ui\";\r\nimport store from \"./store/store\";\r\nimport router from \"./router/router\";\r\n\r\naxios.defaults.baseURL=\"http://localhost:8090\"\r\n\r\n//前置拦截\r\naxios.interceptors.request.use(config => {\r\n    return config\r\n})\r\n\r\n//后置拦截\r\naxios.interceptors.response.use(response => {\r\n    let res = response.data\r\n    console.log(\"interceptors response status:\"+response.status)\r\n    if (response.status === 200) {\r\n        if (res.code !== undefined) {\r\n            if (res.code === \"200\") {\r\n                return response;\r\n            } else {\r\n                Element.Message.error(res.msg, {duration: 3 * 1000});\r\n                return Promise.reject(res.msg);\r\n            }\r\n        } else {\r\n            return response;\r\n        }\r\n    } else {\r\n        Element.Message.error(res.msg, {duration: 3 * 1000});\r\n        return Promise.reject(res.msg);\r\n    }\r\n}, error => {\r\n    if (error.response.data) {\r\n        error.message = error.response.data.msg\r\n    }\r\n    if (error.response.status === 401 ) { //无权限，remove token\r\n        store.commit(\"REMOVE_INFO\")\r\n        router.push(\"/login\")\r\n    }\r\n    Element.Message.error(error.message , {duration:3*1000})\r\n    return Promise.reject(error.message)\r\n})"]}]}